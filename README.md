# Cloud Run タスク管理アプリケーション

このプロジェクトは、GoバックエンドとNext.jsフロントエンドを組み合わせたモダンなタスク管理アプリケーションです。
マイクロサービスアーキテクチャを採用し、Google Cloud Runを活用したスケーラブルな構成となっています。

## 技術スタック

### バックエンド (`backend/`)
- **言語**: Go 1.21
- **アーキテクチャ**: クリーンアーキテクチャベース
- **データベース**: PostgreSQL
- **主要パッケージ**:
  - `lib/pq`: PostgreSQLドライバー
  - `godotenv`: 環境変数管理
- **デプロイ**: Google Cloud Run

### フロントエンド (`task-frontend/`)
- **フレームワーク**: Next.js 15.1.6
- **言語**: TypeScript
- **UIコンポーネント**:
  - Radix UI
  - shadcn/ui
  - Tailwind CSS
- **HTTP クライアント**: Axios
- **デプロイ**: Google Cloud Run

## アーキテクチャ設計

### バックエンド構成
```
backend/
├── cmd/            # エントリーポイント
├── internal/       # 内部パッケージ
│   ├── config/     # 設定管理
│   ├── handler/    # HTTPハンドラ
│   ├── middleware/ # ミドルウェア
│   ├── model/      # ドメインモデル
│   └── repository/ # データアクセス層
└── pkg/            # 外部公開可能なパッケージ
```

### フロントエンド構成
```
task-frontend/
├── src/
│   ├── app/       # ページコンポーネント
│   ├── components/# 共通コンポーネント
│   └── lib/       # ユーティリティ
└── public/        # 静的ファイル
```

## 主要機能と実装上の工夫

### 1. クリーンアーキテクチャの採用
- **なぜ？**
  - ビジネスロジックとインフラ層の分離
  - テスタビリティの向上
  - 将来的な機能追加・変更への柔軟な対応
- **どう工夫した？**
  - レイヤー間の依存関係を明確に定義
  - インターフェースを活用した疎結合な設計
  - ドメインロジックの独立性を確保

### 2. マイクロサービスアーキテクチャ
- **なぜ？**
  - サービス間の独立したスケーリング
  - 開発・デプロイの柔軟性
  - 技術スタックの自由な選択
- **どう工夫した？**
  - バックエンド・フロントエンドの完全な分離
  - コンテナベースのデプロイメント
  - Cloud Runを活用した自動スケーリング

### 3. モダンなフロントエンド
- **なぜ？**
  - 優れたユーザー体験の提供
  - 開発効率の向上
  - メンテナンス性の確保
- **どう工夫した？**
  - Next.jsによるSSR/CSR最適化
  - Tailwind CSSによる効率的なスタイリング
  - コンポーネントの再利用性を重視した設計

## セットアップ手順

### バックエンド
1. 環境変数の設定
```bash
cd backend
cp .env.example .env
# .envファイルを編集して必要な値を設定
```

2. ローカル開発環境の起動
```bash
go mod download
go run cmd/api/main.go
```

### フロントエンド
1. 依存パッケージのインストール
```bash
cd task-frontend
npm install
```

2. 開発サーバーの起動
```bash
npm run dev
```

## デプロイメント

### Cloud Runへのデプロイ
各ディレクトリの `deploy.sh` スクリプトを使用してデプロイを実行できます：

```bash
# バックエンドのデプロイ
cd backend
./deploy.sh

# フロントエンドのデプロイ
cd task-frontend
./deploy.sh
```

## 今後の改善計画

### 優先度高
1. **テストコードの整備・CI/CD**
   - 単体テストの追加
   - GitHub Actionsによる自動テスト・デプロイ
   - テストカバレッジの向上

2. **バリデーション・エラー処理の強化**
   - 入力値チェックの厳密化
   - エラーメッセージの改善
   - エラーハンドリングの統一

3. **認証・認可の実装**
   - JWTによるユーザー認証
   - ロールベースのアクセス制御
   - セキュリティ強化

### 優先度中
4. **API仕様書の整備**
   - OpenAPI (Swagger) の導入
   - APIドキュメントの自動生成
   - API versioning の導入

5. **パフォーマンス最適化**
   - キャッシュ層の追加
   - N+1問題の解決
   - 非同期処理の導入

### 優先度低
6. **インフラのコード化**
   - Terraformによるインフラ構成管理
   - 環境の自動プロビジョニング

7. **モニタリングの強化**
   - ログ収集の整備
   - メトリクス監視の導入
   - アラート設定

